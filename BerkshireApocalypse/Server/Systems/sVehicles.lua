--[[

	Berkshire Apocalypse
	Â© Xendom Rayden

]]--

Fahrzeuge = {
	-- Model, x, y, z, rx, ry, rz, Level
	
	-- Mountain Bike
	{510,-1981.6999511719,133.5,27.39999961853,0,0,90,0},
	{510,-1981.6999511719,132,27.39999961853,0,0,90,0},
	{510,-1981.6999511719,130.5,27.39999961853,0,0,90,0},
	{510,-1981.6999511719,129.10000610352,27.39999961853,0,0,90,0},
	{510,-1981.6999511719,127.80000305176,27.39999961853,0,0,90,0},
	-- Kart
	{571,-1981.4000244141,124.69999694824,27,0,0,54,5},
	{571,-1981.4000244141,122.59999847412,27,0,0,54,5},
	{571,-1981.5,120.59999847412,27,0,0,54,5},
	-- PCJ
	{461,-1981.6999511719,152.69999694824,27.39999961853,0,0,72,8},
	{461,-1981.8000488281,154.19999694824,27.39999961853,0,0,72,8},
	{461,-1981.8000488281,155.60000610352,27.39999961853,0,0,72,8},
	{461,-1981.8000488281,157,27.39999961853,0,0,72,8},
	-- Quadbike
	{471,-1985.5,166.69999694824,27.299999237061,0,0,46,12},
	{471,-1985.599609375,164.2998046875,27.299999237061,0,0,46,12},
	{471,-1985.5999755859,161.80000305176,27.299999237061,0,0,46,12},
	-- NRG
	{522,-1986.4000244141,149.60000610352,27.299999237061,0,0,0,18},
	{522,-1986.4000244141,146.5,27.299999237061,0,0,0,18},
	{522,-1986.4000244141,143.60000610352,27.299999237061,0,0,0,18},
	-- Sultan
	{560,-1995.400390625,144.2998046875,27.299999237061,0,0,0,25},
	{560,-1995.4000244141,138.19999694824,27.5,0,0,0,25},
	{560,-1995.4000244141,131.89999389648,27.5,0,0,0,25},
	-- Infernus
	{411,-1995.3000488281,152.60000610352,27.5,0,0,0,30},
	{411,-1995.3000488281,159.89999389648,27.5,0,0,0,30},
	{411,-1995.3000488281,166.80000305176,27.5,0,0,0,30},
	{411,-1995.3000488281,173.39999389648,27.5,0,0,0,30},
	-- BF Injection
	{424,-1963.5,81.599998474121,27.5,0,0,29.998168945313,35},
	{424,-1967.4000244141,81.699996948242,27.5,0,0,30,35},
	-- Sandking
	{495,-1975.0999755859,82,28.200000762939,0,0,0,50},
	{495,-1978.7998046875,81.900390625,28.200000762939,0,0,0,50},
	-- Maverick
	{487,-1996.1999511719,116.40000152588,27.799999237061,0,0,326,60},
	-- Patriot
	{470,-1978,99.699996948242,27.799999237061,0,0,90,65},
	{470,-1978,103,27.799999237061,0,0,90,65},
	{470,-1978,106.30000305176,27.799999237061,0,0,90,65},
	{470,-238.31390380859,2714.888671875,62.797512054443,0,0,0,65},
	{470,-241.68214416504,2714.888671875,62.797512054443,0,0,0,65},
	-- Monstertruck
	{444,-1969.1999511719,104.59999847412,28,0,0,180,80},
	{444,-1964.5,104.5,28,0,0,180,80},
	{444,-237.2587890625,2736.740234375,62.968620300293,0,0,228.08544921875,80},
	-- Dune
	{573,-1976.7998046875,171.2001953125,27.89999961853,0,0,90,100},
	-- Panzer
	{432,-1983.5,202.2998046875,27.799999237061,0,0,155.99487304688,150},
	-- Hydra
	{520,-1990.900390625,86.2001953125,28.60000038147,0,0,0,175},
	-- Seasparrow
	{469,-207.66839599609,2732.4909667969,62.787498474121,0,0,180,50},
	-- Caddy
	{457,-203.66316223145,2713.7841796875,62.416847229004,0,0,0,10},
	{457,-206.29232788086,2713.7841796875,62.416847229004,0,0,10},
	-- Hotknife
	{434,-228.20191955566,2716.3874511719,62.83674621582,0,0,293.58154296875,35},
};

for _,v in pairs(Fahrzeuge)do
	local vehicle = createVehicle(v[1],v[2],v[3],v[4],v[5],v[6],v[7],"Berkshire");
	setElementData(vehicle,"VehicleLevel",v[8]);
	setElementFrozen(vehicle,true);
	setVehicleColor(vehicle,255,255,255);
	setVehicleDamageProof(vehicle,true);
	
	addEventHandler("onVehicleStartEnter",vehicle,function(player)
		if(getPedOccupiedVehicleSeat(player) == 0)then
			if(tonumber(getElementData(player,"Level")) >= tonumber(getElementData(source,"VehicleLevel")))then
				setElementFrozen(source,false);
				setPlayerAchievement(player,4);
			else
				infobox(player,"You have to be at least level "..getElementData(source,"VehicleLevel").." to use the car!",255,0,0);
				cancelEvent();
			end
		end
	end)
end

function Fahrzeuge.respawn()
	outputChatBox("Empty vehicles will be respawn in 60 seconds!",root,0,125,0);
	setTimer(function()
		for _,v in pairs(getElementsByType("vehicle"))do
			if(not(getVehicleOccupant(v)))then
				if(not(getVehicleOccupant(v)))then
					respawnVehicle(v);
				end
			end
		end
		setTimer(Fahrzeuge.respawn,3600000,1)
	end,60000,1)
end
setTimer(Fahrzeuge.respawn,3600000,1)